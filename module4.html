<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>模块四：社会认知与自测 - 成人 ADHD 患者生存图鉴</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --purple: #e8d3ff;
      --blue: #deecff;
      --bg: #f3f8ff;
      --txt: #222;
      --radius: 18px;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: "微软雅黑", "Heiti SC", sans-serif;
      background: var(--bg);
      color: var(--txt);
    }
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: #fff9;
      border-bottom: 1px solid #eef3fa;
      backdrop-filter: blur(5px);
      z-index: 999;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }
    .home-link {
      color: #3a4a6b;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.1rem;
    }
    nav ul {
      display: flex;
      gap: 22px;
      list-style: none;
      font-size: .95rem;
      font-weight: bold;
    }
    nav a {
      color: #555;
      text-decoration: none;
      padding: 6px 10px;
      border-radius: 8px;
      transition: .15s;
    }
    nav a.active,
    nav a:hover {
      background: var(--blue);
      color: #000;
    }
    section {
      padding: 80px 6vw 60px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h2 {
      font-size: 1.9rem;
      margin-bottom: 20px;
      text-align: center;
      color: #3a4a6b;
      position: relative;
    }
    h2::after {
      content: "";
      width: 60px;
      height: 4px;
      background: var(--purple);
      position: absolute;
      left: 50%;
      bottom: -8px;
      transform: translateX(-50%);
      border-radius: 2px;
    }
    .section-intro {
      max-width: 900px;
      font-size: 1.05rem;
      line-height: 1.9;
      margin-bottom: 35px;
      text-align: center;
    }
    /* iframe 容器 */
    .frame-wrap {
      width: 100%;
      max-width: 1100px;
      overflow: hidden;
      background: transparent;
      box-shadow: none;
      border-radius: 0;
      padding: 0;
    }
    .auto-iframe {
      width: 100%;
      border: 0;
      min-height: 700px;
      overflow: hidden;
    }
    .tall-frame{min-height: 1400px;} 
    footer {
      padding: 60px 0 40px;
      text-align: center;
      font-size: .9rem;
      color: #666;
    }
    @media(max-width:768px) {
      nav ul {
        gap: 12px;
        font-size: .85rem;
      }
      .auto-iframe {
        min-height: 640px;
      }
      .tall-frame{min-height: 1200px;}
    }
    .hl {
      background: #f0dafe;   
      padding: 0 4px;
      border-radius: 4px;
    }
    .module-nav {
      margin: 20px 0;
      text-align: center;
    }
    .module-nav a {
      display: inline-block;
      margin: 0 10px;
      color: #3a4a6b;
      text-decoration: none;
      padding: 5px 10px;
      border-radius: 5px;
    }
    .module-nav a:hover, .module-nav a.active {
      background: var(--blue);
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html" class="home-link">返回首页</a>
    <nav>
      <ul>
        <li><a href="#bias" class="active">认知偏见</a></li>
        <li><a href="#scale">自评量表</a></li>
      </ul>
    </nav>
  </header>

  <!-- 社会认知偏见 -->
  <section id="bias">
    <h2>社会认知偏见</h2>
    <p class="section-intro">
      ADHD 的困境，还藏在一句句看似“正常”的<span class="hl">误解</span>中：<br>
      “你只是懒而已。”<br>
      “成绩好怎么会有 ADHD？”<br>
      “是不是太敏感了？”<br>
      “成年人还有多动症？别装了。”<br>
      <span class="hl">点击下方卡片</span>，看见背后的事实。<br>
      每个被轻率否定的患者，都值得被认真对待。
  </p>
    <div class="frame-wrap">
      <iframe class="auto-iframe tall-frame"
          src="kapian.html" scrolling="no" title="误区卡片"></iframe>
    </div>
  </section>

  <!-- 自评量表 -->
  <section id="scale">
    <p class="section-intro">
      如果你已经看到这，并在这份页面中看到自己的影子，不妨试着完成下面的成人ADHD自测量表(ASRS)。<br>
      （提示：测评结果仅供参考，不作为诊断依据。）<br>
      如果你的分数较高，建议进一步寻求专业医生的帮助。<br>
      不要因为一张标签而否定自己，也不必害怕确诊会改变你的人生。<br>
      ADHD 不该成为羞于启齿的秘密，而是值得被理解的真实存在。<br>
    </p>
    <div class="frame-wrap">
      <iframe class="auto-iframe" src="fenshu.html" scrolling="no" title="自评量表"></iframe>
    </div>
  </section>

  <div class="module-nav">
    <a href="module3.html">← 上一个模块</a>
    <a href="index.html">返回首页</a>
  </div>

  <footer>
    <div class="credits">
      数据来源：<br>
      《中国成人注意缺陷多动障碍诊断和治疗专家共识（2023版）》<br>
      青衫 Neuro（<a href="https://qingshanasd.cn" target="_blank" rel="noopener">qingshanasd.cn</a>）<br>
      ADHD: Symptoms and Diagnosis. Centers for Disease Control and Prevention, 2017-08-31.<br>
      Data and Statistics on ADHD – CDC, MMWR 73 (40): e240, 2023.<br>
      <br>
      网页所有图片皆由大语言模型生成
    </div>
  </footer>

  <script>
    /* 导航高亮 */
    const navLinks = [...document.querySelectorAll('nav a')];
    const sections = [...document.querySelectorAll('section')];
    function highlightNav() {
      const idx = sections.findIndex(sec =>
        sec.getBoundingClientRect().top <= 120 &&
        sec.getBoundingClientRect().bottom > 120
      );
      navLinks.forEach(l => l.classList.remove('active'));
      if (idx > -1) navLinks[idx].classList.add('active');
    }
    window.addEventListener('scroll', highlightNav);
    highlightNav();

    /* iframe 高度实时适配 */
    function observeFrame(frame) {
      try {
        const doc = frame.contentDocument || frame.contentWindow.document;
        const setHeight = () => frame.style.height = doc.body.scrollHeight + 'px';
        setHeight(); // 首次
        if ('ResizeObserver' in window) {
          const ro = new ResizeObserver(setHeight);
          const target = doc.querySelector('.cards-container') || doc.body;
          ro.observe(target);
          setHeight = () => frame.style.height = target.scrollHeight + 40 + 'px';
        } else {
          frame._poll = setInterval(setHeight, 500);
        }
      } catch (e) {
        console.warn('无法访问 iframe 文档，可能跨域', e);
      }
    }
    function initFrames() {
      const frames = [...document.querySelectorAll('iframe.auto-iframe')];
      frames.forEach(f => {
        if (f.dataset.observed) return;
        f.dataset.observed = '1';
        f.addEventListener('load', () => observeFrame(f));
      });
    }
    initFrames();
  </script>
</body>
</html>